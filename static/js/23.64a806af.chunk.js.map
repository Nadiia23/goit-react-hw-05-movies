{"version":3,"file":"static/js/23.64a806af.chunk.js","mappings":"qSAEMA,E,MAASC,GAAAA,OAAa,CACxBC,QAAS,+BACTC,OAAQ,CACJC,QAAS,sCAIJC,EAAW,mCAAG,sGACAL,EAAOM,IAAI,uBADX,uBACfC,EADe,EACfA,KADe,kBAGhBA,EAAKC,SAHW,2CAAH,qDAMXC,EAAW,mCAAG,WAAMC,GAAN,uFACAV,EAAOM,IAAP,iBAAqBI,IADrB,cACjBC,EADiB,yBAGhBA,EAASJ,MAHO,2CAAH,sDAMXK,EAAgB,mCAAG,WAAMT,GAAN,yFACPH,EAAOM,IAAI,gBAAiB,CAAEH,OAAQA,IAD/B,uBACtBI,EADsB,EACtBA,KADsB,kBAEvBA,GAFuB,2CAAH,sDAKhBM,EAAa,mCAAG,WAAMH,GAAN,yFACJV,EAAOM,IAAP,iBAAqBI,EAArB,aADI,uBACnBH,EADmB,EACnBA,KADmB,kBAEpBA,GAFoB,2CAAH,sDAKbO,EAAgB,mCAAG,WAAMJ,GAAN,yFACLV,EAAOM,IAAP,iBAAqBI,EAArB,aADK,uBACpBH,EADoB,EACpBA,KADoB,kBAGvBA,GAHuB,2CAAH,qD,8IC9B7B,EAA6B,2BAA7B,EAA2E,iCAA3E,EAA8H,gCAA9H,EAAqR,2BAArR,EAAiU,+BAAjU,EAAiX,+B,SCiEjX,MA5DA,WACE,OAAwCQ,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAsCF,EAAAA,EAAAA,UAAS,IAA/C,eAAOG,EAAP,KAAoBC,EAApB,KACMC,GAAWC,EAAAA,EAAAA,MACbC,EAAQT,EAAaV,IAAI,SAoB7B,OAlBAoB,EAAAA,EAAAA,YAAU,WACR,GAAKD,EAAL,CACA,IAAME,EAAO,mCAAG,qGACKf,EAAAA,EAAAA,IAAiB,CAAEa,MAAAA,IADxB,OACRlB,EADQ,OAEda,EAASb,EAAKC,SAFA,2CAAH,qDAIbmB,GALkB,CAMnB,GAAE,CAACF,KAYF,iCACE,kBAAMG,SAPW,SAAAC,GACnBA,EAAEC,iBACFb,EAAgB,CAAEQ,MAAOJ,GAC1B,EAIiCU,UAAWC,EAAzC,WACE,kBACEC,SAba,SAAAJ,GACnBP,EAAeO,EAAEK,OAAOC,MACzB,EAYOJ,UAAWC,EACXI,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,mBAEd,mBAAQH,KAAK,SAASL,UAAWC,EAAjC,uBAIDb,IACC,eAAIY,UAAWC,EAAf,gBACGb,QADH,IACGA,OADH,EACGA,EAAOqB,KAAI,SAAAC,GAAI,OACd,eAAkBV,UAAWC,EAA7B,UACE,SAAC,KAAD,CACEU,MAAO,CAAEC,KAAMpB,GACfqB,GAAE,UAAKH,EAAK/B,IACZA,GAAI+B,EAAK/B,GACTqB,UAAWC,EAJb,SAMGS,EAAKI,kBAPDJ,EAAK/B,GADA,QAgBzB,C","sources":["helpers/api.js","webpack://react-homework-template/./src/pages/Movies/movies.module.css?e50d","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst getApi = axios.create({\n    baseURL: 'https://api.themoviedb.org/3',\n    params: {\n        api_key: 'c7319c856c6453f29ecfc93fd160b989'\n    },\n});\n\nexport const getTrending = async () => {\n    const { data } = await getApi.get('/trending/movie/day');\n    // console.log(data.results);\n    return data.results;\n};\n\nexport const getMoviesId = async id => { \n    const response = await getApi.get(`/movie/${id}`);\n    // console.log(response.data);\n    return response.data;\n}\n\nexport const getMoviesByQuery = async params => {\n  const { data } = await getApi.get('/search/movie', { params: params });\n  return data;\n};\n\nexport const getMoviesCast = async id => {\n  const { data } = await getApi.get(`/movie/${id}/credits`);\n  return data;\n};\n\nexport const getMoviesReviews = async id => {\n    const { data } = await getApi.get(`/movie/${id}/reviews`);\n    // console.log(data);\n  return data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"movies_searchForm__3VQcq\",\"searchFormButton\":\"movies_searchFormButton__NH5t3\",\"searchFormInput\":\"movies_searchFormInput__RaHoG\",\"searchForm-input\":\"movies_searchForm-input__w7Vyx\",\"searchForm-button\":\"movies_searchForm-button__RCi5H\",\"searchList\":\"movies_searchList__bmYJ5\",\"searchListItem\":\"movies_searchListItem__3ciCF\",\"searchListLink\":\"movies_searchListLink__MgBqS\"};","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { getMoviesByQuery } from 'helpers/api';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport s from './movies.module.css';\n\nfunction Movies() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movie, setMovie] = useState(null);\n  const [searchValue, setSearchValue] = useState('');\n  const location = useLocation();\n  let query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query) return;\n    const getData = async () => {\n      const data = await getMoviesByQuery({ query });\n      setMovie(data.results);\n    };\n    getData();\n  }, [query]);\n\n  const handleChange = e => {\n    setSearchValue(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query: searchValue });\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className={s.searchForm}>\n        <input\n          onChange={handleChange}\n          className={s.searchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n        />\n        <button type=\"submit\" className={s.searchFormButton}>\n          Search\n        </button>\n      </form>\n      {movie && (\n        <ul className={s.searchList}>\n          {movie?.map(item => (\n            <li key={item.id} className={s.searchListItem}>\n              <Link\n                state={{ from: location }}\n                to={`${item.id}`}\n                id={item.id}\n                className={s.searchListLink}\n              >\n                {item.original_title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n\nexport default Movies;\n"],"names":["getApi","axios","baseURL","params","api_key","getTrending","get","data","results","getMoviesId","id","response","getMoviesByQuery","getMoviesCast","getMoviesReviews","useSearchParams","searchParams","setSearchParams","useState","movie","setMovie","searchValue","setSearchValue","location","useLocation","query","useEffect","getData","onSubmit","e","preventDefault","className","s","onChange","target","value","type","autoComplete","autoFocus","placeholder","map","item","state","from","to","original_title"],"sourceRoot":""}